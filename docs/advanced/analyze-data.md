# 2.2: Анализ данных

- **Время на выполнение:** 60-75 минут
- **Необходимые знания:** Модуль 2.1 (Написание PRD), базовое понимание CSV файлов и продуктовых метрик

> **Начните этот модуль в Claude Code:** Выполните `/start-2-2` для запуска интерактивного обучения.

## Обзор

Модуль 2.2 обучает полному PM workflow для data-driven разработки функций: обнаружение проблем через анализ данных, оценка бизнес-влияния перед построением и анализ результатов экспериментов для принятия решений ship/kill.

**Ключевой вывод:** Никогда не останавливайтесь на topline метриках – всегда сегментируйте по вашей целевой аудитории, проверяйте качество важнее количества и ищите опережающие индикаторы, которые предсказывают долгосрочный успех.

## Три-фазный Workflow

| Фаза | Цель | Результат |
|-------|---------|-------------|
| **Discovery** | Найти проблемы с данными (воронка + опросы) | `problem-analysis.md` с количественными и качественными доказательствами |
| **Оценка влияния** | Построить ROI модели для обоснования инженерных инвестиций | `impact-estimate.md` и `roi-scenarios.md` с 3 сценариями |
| **Анализ эксперимента** | Анализировать результаты A/B теста за пределами topline метрик | `experiment-readout.md` с рекомендацией ship/iterate/kill |

## Фреймворк оценки влияния

### Формула

```
Влияние = Затронутые пользователи × Текущая конверсия × Ожидаемый рост × Ценность действия
```

### Компоненты

**Затронутые пользователи**
- Сколько пользователей увидят эту функцию?
- Учитывайте постепенный раскат (не всегда 100%)
- Пример: 5,000 регистраций/месяц × 70% видят функцию = 3,500 затронутых пользователей

**Текущая конверсия**
- Какой % сейчас совершают желаемое действие?
- Получите из аналитического инструмента (Mixpanel, Amplitude)
- Пример: 45% activation rate (2,025/4,500 завершают первую задачу)

**Ожидаемый рост**
- Насколько функция улучшит конверсию?
- Источники: похожие функции, которые вы запускали, бенчмарки конкурентов, исследования пользователей, экспертное суждение
- Пример: Опрос показывает 60% падения из-за "нужны примеры". Консервативно восстанавливаем 30% → оценка 13pp роста (45% → 58%)

**Ценность действия**
- Сколько стоит каждое дополнительное действие?
- Для активации: LTV × конверсия
- Для retention: расширенный LTV
- Для viral: принятие приглашений × активация × конверсия × LTV
- Пример: Активированный пользователь → 60% конвертируются × $12/мес × 24 месяца = $172.80 LTV на активацию

### Подход с тремя сценариями

Всегда моделируйте неопределённость с пессимистичным, реалистичным и оптимистичным сценариями:

| Сценарий | Принятие | Рост | Случай использования |
|----------|----------|------|----------|
| **Пессимистичный** (20-й процентиль) | 30% | 45% → 50% | Минимальное ожидаемое влияние |
| **Реалистичный** (50-й процентиль) | 70% | 45% → 58% | Наиболее вероятный случай |
| **Оптимистичный** (80-й процентиль) | 90% | 45% → 62% + повышение retention | Лучший сценарий |

**Представьте все три руководству**, чтобы они понимали диапазон результатов и могли делать информированные ставки.

## Фреймворк анализа экспериментов

### Иерархия анализа

**1. Topline метрики**
```
Рассчитать общие показатели активации для контроля и тестовой группы
```
- Быстрый снимок общего влияния
- Недостаточно для принятия решений

**2. Статистическая значимость**
```
Рассчитать статистическую значимость между контрольной и тестовой группами
```
- p < 0.05: Статистически значимо (< 5% вероятность, что это случайно)
- 95% CI: Диапазон вероятных размеров эффекта
- Широкий CI = высокая неопределённость, даже если p < 0.05

**3. Анализ сегментов**
```
Сегментировать результаты эксперимента по company_size и рассчитать activation rates для каждого сегмента
```
- Функции работают по-разному для разных типов пользователей
- Topline средние могут скрывать победы сегментов
- Всегда сегментируйте по целевой аудитории перед принятием решения

**4. Метрики качества**
```
Среди активированных пользователей рассчитать week 1 retention для обеих когорт
```
- Activation rate = СКОЛЬКО пользователей активировались
- Retention = если это ХОРОШИЕ активации
- Проверить: Week 1 retention, метрики вовлечённости, долгосрочный retention

**5. Опережающие индикаторы**
```
Сравнить использование шаблонов и invite rates между когортами
```
- Принятие функции: Используют ли пользователи новую функцию?
- Viral метрики: Приглашают ли пользователи коллег?
- Глубина вовлечённости: Используют ли пользователи продвинутые функции?
- Опережающие индикаторы предсказывают будущий успех

## Анализ данных в Claude Code

### Что может Claude

**Читать CSV файлы напрямую:**
```
Прочитай activation-funnel-q4.csv и рассчитай drop-off rates на каждом шаге
```

**Обрабатывать тысячи строк мгновенно:**
```
Анализируй 8,000 строк в onboarding-experiment-results.csv и сегментируй
activation rates по размеру компании
```

**Строить ROI модели:**
```
Построй модель оценки влияния, используя фреймворк в
impact-estimation-framework.md
```

**Запускать статистические анализы:**
```
Рассчитай статистическую значимость между контрольной и тестовой группами
с p-values и confidence intervals
```

**Перекрёстно ссылаться на источники данных:**
```
Анализируй данные воронки из activation-funnel-q4.csv и коррелируй с
обратной связью пользователей из user-survey-responses.csv
```

### Примеры структур CSV

**Данные воронки (activation-funnel-q4.csv):**
```csv
step,users_entered,users_completed,completion_rate,median_time_to_complete
Signup,10000,10000,1.0,0
First Task Created,10000,7200,0.72,18
First Task Completed,7200,2880,0.40,45
Invite Sent,2880,1440,0.50,24
```

**Данные эксперимента (onboarding-experiment-results.csv):**
```csv
user_id,cohort,company_size,completed_first_task,invited_teammate,tasks_completed_week_1
control_user_0001,control,5-20,True,False,4
control_user_0002,control,5-20,False,False,0
treatment_user_0001,treatment,5-20,True,True,8
```

Claude читает их и представляет отформатированные таблицы с инсайтами.

## Реальные примеры

### Discovery: Застрявший Activation Rate

**Ситуация:** Активация застряла на 45% в течение 6 месяцев.

**Workflow анализа:**
1. `Прочитай activation-funnel-q4.csv и найди самое большое падение` → 60% падение при завершении задачи
2. `Анализируй user-survey-responses.csv и извлеки топ жалобы` → Нужны примеры/шаблоны
3. Перекрёстная ссылка: Падение коррелирует с обратной связью из опроса
4. Синтез: Создать `problem-analysis.md` с количественными и качественными доказательствами

**Результат:** Чёткая формулировка проблемы, подкреплённая данными, готовая для выравнивания стейкхолдеров.

### Оценка влияния: Обоснование управляемого онбординга

**Ситуация:** Предложенная функция на $100k (4 инженер-месяца). Инженеры скептичны, руководство хочет ROI.

**Workflow анализа:**
1. `Анализируй taskflow-usage-data-q4.csv для расчёта текущего activation rate` → 45% базовая линия
2. Оценить рост на основе данных опроса (60% нужны примеры → консервативно восстановить 30% → 13pp рост)
3. `Построй полную ROI модель с базовой линией, прогнозами и бизнес-влиянием`
4. `Сгенерируй пессимистичный, реалистичный и оптимистичный сценарии`

**Результат:** 9.4x ROI за 3 года (реалистичный), 2.6x даже в пессимистичном случае. Разработка одобрена.

### Анализ эксперимента: Раскрытие скрытых побед

**Ситуация:** Topline показывает 45% → 48% (+2.6pp, p=0.04). Команда разочарована.

**Workflow анализа:**
1. Проверить topline → Скромные +2.6pp
2. `Сегментировать результаты по company_size` → Малые команды: +11.4pp (огромно!), Enterprise: -3.5pp (негативно)
3. `Среди активированных пользователей рассчитать week 1 retention` → Тестовая: 78% vs Контрольная: 60%
4. `Сравнить использование шаблонов и invite rates` → Использование шаблонов в 3.2x выше, invite rate 35% vs 12%

**Результат:** То, что выглядело как провал, на самом деле огромная победа для целевого сегмента. Запустить для малых команд, исключить enterprise.

## Лучшие практики

### Подход к анализу

**Делать:**
- Всегда валидировать гипотезы с данными перед разработкой
- Создавать три сценария для каждой оценки (признавать неопределённость)
- Сегментировать по целевой аудитории (topline может скрывать победы)
- Проверять метрики качества (retention > количество активаций)
- Искать опережающие индикаторы, которые предсказывают долгосрочный успех
- Перекрёстно ссылаться на количественные + качественные данные

**Не делать:**
- Останавливаться на topline метриках без сегментации
- Использовать точечные оценки (использовать диапазоны и сценарии)
- Предполагать 100% принятие (учитывать постепенный раскат)
- Игнорировать негативные сегменты (исключить их из раската)
- Убивать эксперименты перед проверкой сегментов и качества
- Переоптимизировать оценки роста (быть консервативным)

### Источники оценки роста

**От лучшего к худшему:**
1. **Ваши исторические данные** - Прошлые эксперименты - лучшие предикторы
2. **Исследование пользователей** - Опрос показывает 60% падение из-за X → исправление X восстанавливает Y%
3. **Бенчмарки конкурентов** - Отраслевые стандарты для похожих функций
4. **Экспертное суждение** - Оценки команды от eng/design/PM

### Профессиональные советы

**Создать библиотеку оценок роста**
Отслеживайте оцененный vs фактический рост для каждой функции. После 5-10 функций вы станете намного лучше в оценках.

**Выставляйте разочаровывающие новости вперёд**
Покажите скромные topline сначала, затем раскройте победы сегментов. Учит стейкхолдеров всегда копать глубже.

**Автоматизировать скрипты анализа**
Сохраняйте промпты для анализа воронки, сегментации и ROI моделирования. Переиспользуйте между функциями.

## Работа с CSV данными

### Общие источники данных

| Платформа | Тип экспорта |
|----------|-------------|
| Mixpanel, Amplitude | События использования, воронки |
| Optimizely, LaunchDarkly | Результаты A/B тестов |
| Qualtrics, SurveyMonkey | Ответы на опросы |
| Google Analytics | Трафик/данные конверсии |

**Claude Code может читать CSV, TSV и JSON напрямую.**

### Просмотр CSV файлов

**Опции:**
- **Excel или Google Sheets** - Лучше всего для визуального исследования данных
- **VS Code** - Хорошо для просмотра сырой структуры
- **Позволить Claude прочитать** - Claude форматирует данные в чистые markdown таблицы

**Рекомендуется:** Позвольте Claude прочитать и проанализировать CSV, представляя результаты в отформатированных таблицах. Просматривайте сырой CSV только если нужно проверить конкретные точки данных.

## Устранение неполадок

**Claude не может прочитать мой CSV файл**
- Проверьте путь к файлу с `ls` или файловым браузером
- Используйте правильный относительный путь (напр., `data/experiment-results.csv`)
- Убедитесь, что расширение файла `.csv`, а не `.CSV` (чувствительность к регистру на некоторых системах)

**Результаты не соответствуют тому, что я вижу в Excel**
- Попросите Claude показать вычисление пошагово
- Убедитесь, что Claude использует правильные столбцы
- Спросите: `Объясни, как ты рассчитал activation rate из этого CSV`

**Статистическая значимость кажется неправильной**
- Проверьте размер выборки: Нужно ~400+ пользователей на когорту для надёжных тестов
- Помните: `p<0.05` означает "меньше 5% вероятность, что это случайно", а не "5% ошибка"
- Широкие confidence intervals = высокая неопределённость, даже если `p<0.05`

**Анализ сегментов показывает противоречивые результаты**
- Это не баг - это инсайт!
- Функции часто побеждают для целевого сегмента и проигрывают для других
- Решение: Запустить для выигрышного сегмента, исключить проигрышный сегмент

## Ключевые термины

| Термин | Определение |
|------|------------|
| **Activation Rate** | Процент регистраций, которые завершают ключевое действие |
| **Confidence Interval** | Диапазон вероятных значений для истинного размера эффекта (напр., 95% CI: [0.1%, 5.1%]) |
| **Funnel Analysis** | Отслеживание пользователей через последовательные шаги для идентификации точек падения |
| **Leading Indicator** | Ранняя метрика, которая предсказывает будущий успех (напр., invite rate предсказывает retention) |
| **Lift** | Улучшение в метрике (напр., активация 45% → 58% = +13pp рост) |
| **LTV (Lifetime Value)** | Общий доход от клиента за всё время отношений |
| **p-value** | Вероятность, что наблюдаемый эффект обусловлен случайностью (`p<0.05` = статистически значимо) |
| **ROI** | Доход или ценность, разделённые на стоимость (напр., 9.4x ROI) |
| **Segment** | Подмножество пользователей, сгруппированных по общей характеристике (напр., размер компании, роль) |
| **Topline Metric** | Общая средняя метрика перед сегментацией |

## Что дальше?

Теперь вы понимаете, как анализировать данные воронки и опросов, строить ROI модели с анализом сценариев и анализировать A/B тесты за пределами topline метрик, используя Claude Code как вашего партнёра по анализу данных.

**Модуль 2.3:** Узнайте о **конкурентном исследовании и стратегическом анализе** - проводите быстрое конкурентное исследование с параллельными агентами и применяйте стратегические фреймворки.

Интерактивный трек: Введите `/start-2-3`

---

**О курсе**

Следи за развитием эпохи AI, подписывайся на канал: [@create_products](https://t.me/create_products).
