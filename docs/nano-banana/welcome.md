# 3.1.1: Добро пожаловать и первая генерация

- **Время на выполнение:** 10 минут
- **Необходимые знания:** Файлы Nano Banana загружены (Модуль 3.0)

> **Начните этот модуль в Claude Code:** Выполните `/start-3-1-1` для запуска интерактивного обучения.

## Обзор

Модуль 3.1.1 проведёт вас от нуля до вашего первого ИИ-генерированного изображения. Вы настроите ваш Gemini API ключ, сконфигурируете биллинг и увидите, как Claude трансформирует референсное фото во что-то волшебное.

**Ключевой вывод:** Настройка - это одноразовый процесс. Когда ваш API ключ сконфигурирован, вы можете генерировать изображения простыми запросами на естественном языке - Claude обрабатывает всю техническую сложность.

## Что такое Gemini 3 Pro?

**Gemini 3 Pro** (кодовое имя "Nano Banana Pro") - самая продвинутая модель генерации изображений Google. Она может:

- Генерировать фотореалистичные изображения из текстовых описаний
- Трансформировать референсные фото, сохраняя идентичность
- Добавлять точные текстовые оверлеи на изображения
- Создавать последовательных персонажей через множественные генерации
- Понимать и реплицировать сложные визуальные стили

В отличие от потребительских приложений, доступ к API напрямую даёт вам:
- **Более разрешающие политики контента** (например, реальные люди как референсы)
- **Полный контроль параметров** (соотношение сторон, разрешение и т.д.)
- **Итерация на основе сессии** (уточнять изображения шаг за шагом)
- **Меньшая стоимость** (~$0.10/изображение vs подписка на приложения)

## Настройка вашего API ключа

### Шаг 1: Получите ваш ключ из Google AI Studio

1. Перейдите на [Google AI Studio](https://aistudio.google.com/)
2. Войдите с вашим аккаунтом Google
3. Примите Условия использования (если первый раз)
4. Нажмите **"Get API Key"** в левой боковой панели
5. Нажмите **"Create API key"** в правом верхнем углу для генерации нового ключа
6. Назовите ваш ключ как хотите и выберите "Default Gemini Project"
7. Нажмите на ключ в панели
8. Скопируйте ключ - он начинается с `AIza...`

Храните этот ключ в безопасности. Вы вставите его в ваш `.env` файл в Шаге 3.

### Шаг 2: Настройте биллинг

Gemini 3 Pro требует биллинг аккаунт. Не волнуйтесь - это pay-per-use и очень доступно.

1. В Google AI Studio перейдите в **Get API key** (внизу левой боковой панели)
2. Под колонкой "Quota tier" нажмите **Set up billing**
3. Следуйте подсказкам для добавления метода оплаты

**Контекст стоимости:**
- ~$0.10 за генерацию изображения
- Весь этот курс стоит меньше $5 в общем
- Нет месячной подписки - платите только за то, что используете
- Эти деньги идут **Google**, а не Carl (к сожалению)

### Шаг 3: Сконфигурируйте ваш API ключ

Просто скажите Claude ваш API ключ, и он всё настроит:

> "Мой Gemini API ключ AIzaYourKeyHere - пожалуйста, добавь его в мой .env файл"

Claude создаст `.env` файл и сохранит ваш ключ безопасно.

**Предпочитаете сделать вручную?** Скопируйте `.env.example` в `.env` и добавьте ваш ключ: `GEMINI_API_KEY=YourKeyHere`

## Ваша первая генерация

Когда настройка завершена, вы готовы генерировать. В интерактивном модуле Claude использует референсное фото для создания забавного приветственного изображения - демонстрируя способность модели трансформировать реальные фото.

**Что происходит за кулисами:**
1. Вы описываете, что хотите
2. Claude вызывает функцию `generate()` из `image_gen.py`
3. Функция отправляет ваш запрос к Gemini API
4. Сгенерированное изображение сохраняется в папку `outputs/`
5. Claude говорит вам, где его найти

**Время генерации:** Около 10-15 секунд на изображение.

## Что Claude обрабатывает за вас

Когда вы генерируете изображения через Claude Code, вам не нужно беспокоиться о:

| Вы обрабатываете | Claude обрабатывает |
|------------|----------------|
| Описывать, что хотите | API вызовы и аутентификацию |
| Выбирать стили | Управление сессией |
| Предоставлять обратную связь | Сохранение файлов и именование |
| Проверять выводы | Оптимизация параметров |

Это сила комбинации Gemini с Claude Code. Вы фокусируетесь на творческом направлении; Claude обрабатывает реализацию.

## Модуль `image_gen.py`

Вся генерация изображений проходит через предварительно построенный Python модуль `image_gen.py`. Вам не нужно писать код - Claude использует его от вашего имени.

**Ключевые функции:**
- `generate()` - Создать или уточнить изображение
- `new_session()` - Начать заново (очистить историю разговора)
- `session_info()` - Проверить текущий статус сессии

**Вы узнаете больше об этих в Модуле 3.1.2.**

## Структура вывода

Сгенерированные изображения сохраняются в папку `outputs/` в вашей директории nano-banana:

```
nano-banana/
├── outputs/
│   ├── image_001.png
│   ├── image_002.png
│   └── ...
├── image_gen.py
├── .env
└── ...
```

Изображения нумеруются последовательно. Claude скажет вам точный путь к каждому сгенерированному изображению, чтобы вы могли открыть его в Finder (Mac) или Explorer (Windows).

## Устранение неполадок

### "API key not found" или ошибки аутентификации

- Убедитесь, что ваш `.env` файл существует (не `.env.example`)
- Проверьте, что ключ вставлен правильно без лишних пробелов
- Убедитесь, что ключ начинается с `AIza`

### Ошибки "Billing not enabled"

- Вернитесь в Google AI Studio → Settings → Plan information
- Подтвердите, что биллинг настроен и метод оплаты привязан
- Может потребоваться несколько минут для активации биллинга

### Генерация не работает или таймаут

- Проверьте ваше интернет-соединение
- Gemini может испытывать высокую нагрузку - подождите минуту и попробуйте снова
- Если ошибки продолжаются, попробуйте начать новую сессию: скажите Claude "Start a new session"

### Не могу найти сгенерированные изображения

- Изображения сохраняются в папку `outputs/`
- Claude предоставит точный путь после каждой генерации
- Откройте Finder (Mac) или Explorer (Windows) и перейдите в папку

## Лучшие практики

**Храните ваш API ключ в безопасности:**
- Никогда не коммитьте `.env` в git (он в `.gitignore` по умолчанию)
- Не делитесь вашим API ключом публично
- Вы можете регенерировать ключи в Google AI Studio, если скомпрометированы

**Проверяйте выводы в правильном просмотрщике:**
- Терминал не может отображать изображения - всегда открывайте файл
- Используйте Preview (Mac), Photos (Windows) или любой просмотрщик изображений
- Для лучшего опыта держите папку `outputs/` открытой во время работы

## Что вы узнаете дальше

Модуль 3.1.1 настраивает вас. Остальная часть Модуля 3.1 научит вас эффективно использовать генерацию изображений:

- **3.1.2: Понимание основ** - Параметры, соотношения сторон, разрешение, итерация
- **3.1.3: Постоянство и стиль** - Золотые правила промптинга, референсные изображения, варианты
- **3.1.4: Создание вашей базы стилей** - Создайте переиспользуемую библиотеку стилей

Затем Модуль 3.2 применяет эти навыки к реальной PM работе: персоны, диаграммы, мокапы и маркетинговые ассеты.

## Что дальше?

Вы настроены и сгенерировали ваше первое изображение. Теперь пора понять, как работает система.

**Модуль 3.1.2** научит вас функции `generate()`, доступным параметрам и как итерировать на ваших изображениях.

Интерактивный трек: Введите `/start-3-1-2`

## Ресурсы

- [Google AI Studio](https://aistudio.google.com/) - Получите ваш API ключ и управляйте биллингом
- [Gemini Image Generation Documentation](https://ai.google.dev/gemini-api/docs/image-generation) - Официальная API справка

---

**О курсе**

Следи за развитием эпохи AI, подписывайся на канал: [@create_products](https://t.me/create_products).
