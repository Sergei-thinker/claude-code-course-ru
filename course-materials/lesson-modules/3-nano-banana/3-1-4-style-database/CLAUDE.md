# Модуль 3.1.4: Построение вашей базы стилей

Добро пожаловать в Модуль 3.1.4: Построение вашей базы стилей.

Пока мы научились генерировать изображения и применять Золотые правила. Но есть большая игра здесь - та, что отделяет случайных пользователей от продвинутых.

Мета-навык вот в чем: построение личного творческого инструментария, который растет с вами со временем. Вместо начала с нуля каждый раз, вы строите библиотеку стилей, которые можете повторно использовать.

Подумайте об этом - каждое великое изображение, которое вы создаете, каждый промпт, который работает идеально, каждый стиль, который вы открываете... все это становится частью вашего инструментария. Это разница между случайным использованием AI и наличием AI как творческой суперсилы.

СТОП: Пока понятно?

ПОЛЬЗОВАТЕЛЬ: Да

---

Вот где Claude Code становится вашим идеальным партнером. Я могу управлять всей вашей базой стилей за вас. Просто скажите "используй стиль #3" или "добавь это в мою библиотеку", и я обработаю все - полный контекст, никакого копирования-вставки, никакой охоты через старые чаты.

Есть три способа расширить вашу библиотеку:
- **Сохраняйте промпты по ходу** - когда вы делаете что-то, что вам нравится
- **Собирайте промпты из интернета** - базы данных, социальные сети, туториалы
- **Извлекайте стили из любого изображения** - мощный ход

Мы попробуем все три сегодня.

Я настроил стартовую библиотеку стилей для вас. Позвольте мне открыть её в вашем браузере автоматически.

ДЕЙСТВИЕ: Откройте библиотеку стилей в браузере пользователя:
- Mac: `open [абсолютный путь к style-library.html]`
- Windows: `start [абсолютный путь к style-library.html]`

Она должна была только что открыться в вашем браузере.

СТОП: Взгляните на библиотеку стилей. Дайте знать, когда у вас была возможность просмотреть её.

ПОЛЬЗОВАТЕЛЬ: Она открыта

---

## Часть 2: Представление библиотеки стилей

Теперь, важное уточнение: это не настоящий сайт! Это просто локальный HTML-файл - способ визуализировать вашу коллекцию стилей прямо с вашего компьютера.

И вот крутая часть: вы всегда можете изменить дизайн или функциональность, просто попросив меня. Не делайте этого сейчас, но в будущем вы могли бы попросить меня добавить новые колонки, изменить макет, добавить функциональность поиска - что угодно. Это ВАШ инструментарий. Сделайте его работающим для вас.

СТОП: Довольно круто, правда?

ПОЛЬЗОВАТЕЛЬ: Да

---

Позвольте мне провести вас через структуру. Каждый стиль имеет:
- **Индексный номер** - чтобы вы могли просто сказать "используй стиль #02"
- **Миниатюру превью** - наведите для увеличения
- **Название и теги** - для быстрого сканирования
- **Категорию** - для фильтрации
- **Полный промпт** - наведите для расширения, кликните для копирования
- **Примеры использования** - чтобы вы знали, когда к нему обратиться

Попробуйте кнопки фильтра вверху, чтобы увидеть разные категории.

СТОП: Уделите минуту просмотру. Какой стиль привлекает ваш взгляд?

ПОЛЬЗОВАТЕЛЬ: [Выбирает стиль]

---

Отличный выбор! Давайте попробуем его.

СТОП: Какой субъект вы хотите сгенерировать, используя этот стиль? Скажите мне номер стиля и ваш субъект.

ПОЛЬЗОВАТЕЛЬ: [Номер стиля и субъект]

ДЕЙСТВИЕ: Запустите `python3 get_style.py [номер]`, чтобы получить промпт стиля. Затем сгенерируйте изображение, используя этот промпт в комбинации с их субъектом.

Ваше изображение готово!

ДЕЙСТВИЕ: Предоставьте точный путь к выходному файлу изображения

Откройте папку outputs, чтобы увидеть его.

СТОП: Что думаете?

ПОЛЬЗОВАТЕЛЬ: [Ответ]

---

## Часть 3: Расширение вашей библиотеки - Метод 1: Сохраняйте по ходу

Это первый метод использования вашей библиотеки - выбор существующих стилей. Теперь давайте поговорим о её РАСШИРЕНИИ.

Метод 1 самый простой: сохраняйте по ходу. Когда вы создаете что-то, что вам нравится, просто скажите мне добавить это в вашу библиотеку.

Давайте попробуем. Я хочу, чтобы вы сгенерировали любое изображение, которое хотите.

СТОП: Что вы хотели бы создать? Любой субъект, любой стиль - опишите, как хотите.

ПОЛЬЗОВАТЕЛЬ: [Описывает их изображение]

---

ДЕЙСТВИЕ: Сгенерируйте изображение на основе их описания, используя image_gen.py

Готово! Проверьте папку outputs, чтобы увидеть ваше изображение.

ДЕЙСТВИЕ: Предоставьте точный путь к выходному файлу изображения

СТОП: Посмотрите - вам нравится стиль?

ПОЛЬЗОВАТЕЛЬ: [Ответ]

---

Если вам нравится, вы можете сохранить этот стиль в вашу библиотеку для будущего использования.

СТОП: Попробуйте - скажите мне добавить этот стиль в вашу библиотеку.

ПОЛЬЗОВАТЕЛЬ: Добавь это в мою библиотеку / Добавь этот стиль в мою библиотеку

ДЕЙСТВИЕ: Обновите style-library.html с новой записью стиля:
- Найдите следующий доступный ID номер
- Извлеките описательное название из промпта
- Выберите подходящую категорию из: Illustration, Photo - Portrait, Photo - Product, Photo - Environment, Diagram, UI/Mockup, 3D/Isometric, Presentation, Marketing, Artistic
- Добавьте 3-5 релевантных тегов
- Скопируйте выходное изображение в папку thumbnails/ с описательным именем файла
- Добавьте запись в массив styles в JavaScript-секции
- Напишите краткое описание "exampleUse"

Готово! Обновите вашу библиотеку стилей в браузере.

СТОП: Вы видите ваш новый стиль?

ПОЛЬЗОВАТЕЛЬ: Да

---

Это Метод 1 - сохраняйте по ходу. Каждый раз, когда вы создаете что-то, что любите, просто скажите мне сохранить это. Со временем ваша библиотека становится золотой жилой проверенных стилей.

СТОП: Готовы к Методу 2?

ПОЛЬЗОВАТЕЛЬ: Да

---

## Часть 4: Расширение вашей библиотеки - Метод 2: Собирайте из интернета

Метод 2: собирайте промпты из интернета. Есть потрясающие промпты в социальных сетях, базах данных промптов и туториалах. Когда вы находите тот, что вам нравится, тестируйте его, затем добавляйте в вашу библиотеку.

Вот отличный пример из официального аккаунта Nano Banana: https://x.com/NanoBanana/status/1998085942201163905

Промпт: "Make a photo that is perfectly isometric. It is not a miniature, it is a captured photo that just happened to be perfectly isometric. It is a photo of [subject]."

СТОП: Какой субъект мы должны использовать для изометрического фото?

ПОЛЬЗОВАТЕЛЬ: [Их субъект]

---

ДЕЙСТВИЕ: Сгенерируйте изометрическое изображение с их субъектом, используя промпт: "Make a photo that is perfectly isometric. It is not a miniature, it is a captured photo that just happened to be perfectly isometric. It is a photo of [их субъект]."

Посмотрите на ваше изометрическое фото!

ДЕЙСТВИЕ: Предоставьте точный путь к выходному файлу изображения

Откройте папку outputs, чтобы увидеть его.

СТОП: Довольно крутой эффект, правда? Хотите добавить этот стиль в вашу библиотеку?

ПОЛЬЗОВАТЕЛЬ: Да / Добавь это в мою библиотеку

ДЕЙСТВИЕ: Обновите style-library.html с изометрическим стилем:
- Название: "Perfect Isometric Photo"
- Категория: "3D/Isometric"
- Теги: ["isometric", "photography", "geometric", "perspective"]
- Промпт: "Make a photo that is perfectly isometric. It is not a miniature, it is a captured photo that just happened to be perfectly isometric. It is a photo of [subject]."
- Скопируйте выходное изображение в thumbnails/
- Добавьте запись в массив styles

Готово! Обновите ваш браузер, чтобы увидеть это.

СТОП: Два стиля добавлены! Готовы к мощному ходу?

ПОЛЬЗОВАТЕЛЬ: Да

---

## Часть 5: Расширение вашей библиотеки - Метод 3: Извлекайте из любого изображения

Метод 3 - это мощный ход.

Gemini 3 Pro не просто потрясающа в создании изображений - у неё лучшее понимание изображений среди всех моделей. Это означает, что мы можем извлечь стиль из ЛЮБОГО изображения и воссоздать его.

Видите изображение, которое любите на Pinterest? Instagram? В журнале? Извлеките стиль, сохраните навсегда.

Я построил модуль извлечения стиля, чтобы делать именно это.

СТОП: Хотите увидеть это в действии?

ПОЛЬЗОВАТЕЛЬ: Да

---

ДЕЙСТВИЕ: Подтвердите, что файл style_extract.py существует в директории lesson-modules/3-nano-banana/

Модуль `style_extract.py` анализирует любое изображение и извлекает детальную информацию о стиле. Не как JSON или структурированные данные - как естественный язык, который Gemini может использовать напрямую.

Он захватывает: цветовую палитру, освещение, композицию, текстуры, настроение, художественный стиль, типографику, специальные эффекты - все, что делает изображение выглядящим так, как оно выглядит.

Давайте протестируем это на намеренно СЛОЖНОМ изображении.

ДЕЙСТВИЕ: Получите точный путь к recursive-painter.jpg в папке этого модуля

Откройте этот файл, чтобы увидеть его: [предоставьте точный путь]

СТОП: Вы видите его? Это мужчина, рисующий себя, рисующего себя, с CRT-телевизором, показывающим ту же сцену - эстетика 1990-х с датамаркой.

ПОЛЬЗОВАТЕЛЬ: Да, я вижу его

Рекурсивный, сложный, многослойный. Если мы можем извлечь ЭТОТ стиль, мы можем извлечь что угодно.

СТОП: Готовы запустить извлечение?

ПОЛЬЗОВАТЕЛЬ: Да

---

ДЕЙСТВИЕ: Запустите извлечение стиля на recursive-painter.jpg, выполнив:
```python
import sys
sys.path.insert(0, '[путь корня курса]')
from style_extract import extract_style
result = extract_style('[путь к recursive-painter.jpg]')
print(result)
```

Вот что нашло извлечение:

ДЕЙСТВИЕ: Отобразите извлеченное описание стиля пользователю

[Явно покажите вывод]

Посмотрите на все эти детали - цветовую палитру, качество освещения, заметки о композиции, описания текстур.

Теперь настоящий тест: можем ли мы воссоздать ТОЧНО такое же изображение просто из этого текстового описания?

СТОП: Скажите мне воссоздать изображение, используя извлеченный стиль.

ПОЛЬЗОВАТЕЛЬ: Воссоздай изображение / Сгенерируй его

---

ДЕЙСТВИЕ: Сгенерируйте изображение, используя извлеченное описание стиля. Промпт должен воссоздать сцену рекурсивного художника - человек в арт-студии, рисующий себя, рисующего себя, с CRT-телевизором, показывающим ту же рекурсивную сцену, аналоговая эстетика снимка 1990-х с датамаркой.

ДЕЙСТВИЕ: Предоставьте точный путь к выходному файлу изображения

Откройте вывод и сравните его side-by-side с оригиналом.

СТОП: Что думаете? Видите тот же стиль, захваченный?

ПОЛЬЗОВАТЕЛЬ: [Ответ - должен быть впечатлен]

---

Это wow-момент.

Мы взяли сложное, многослойное, рекурсивное изображение и извлекли его сущность как чистый текст. Затем воссоздали его с нуля.

Теперь представьте делать это с любым изображением, которое вы любите - любым стилем, который вы хотите захватить. Вдохновение из Pinterest → извлечь → сохранить → ваше навсегда.

СТОП: Хотите добавить этот извлеченный стиль в вашу библиотеку?

ПОЛЬЗОВАТЕЛЬ: Да / Добавь его

ДЕЙСТВИЕ: Обновите style-library.html со стилем 90s Analog Snapshot:
- Название: "90s Analog Snapshot"
- Категория: "Photo - Portrait"
- Теги: ["vintage", "film grain", "flash", "nostalgic", "datestamp"]
- Промпт: Используйте извлеченное описание стиля
- Скопируйте сгенерированное выходное изображение в thumbnails/
- Добавьте запись в массив styles

Обновите ваш браузер - теперь у вас три новых стиля!

СТОП: Как выглядит ваша библиотека?

ПОЛЬЗОВАТЕЛЬ: [Ответ]

---

## Часть 6: Подведение итогов

Давайте резюмируем, что вы узнали.

Мета-навык: построение личного творческого инструментария, который растет с вами. Три способа расширить вашу библиотеку:
- **Сохраняйте по ходу** - создайте что-то, что вам нравится → добавьте это
- **Собирайте из интернета** - найдите промпты → тестируйте → сохраняйте
- **Извлекайте из любого изображения** - мощный ход

Любое изображение, которое вы любите → извлечь → сохранить → повторно использовать навсегда. И я управляю всем этим за вас - просто скажите "используй стиль #3" или "добавь это в мою библиотеку."

СТОП: Какие-нибудь вопросы о построении вашей базы стилей?

ПОЛЬЗОВАТЕЛЬ: [Вопросы или нет]

---

Теперь у вас есть полное, продвинутое понимание всего, что вам нужно для использования Nano Banana Pro. Вы знаете Золотые правила, вы знаете, как итерировать, и вы знаете, как построить инструментарий стилей.

В Модуле 3.2 мы применим все эти знания к реальным use cases для PM - mockups, диаграммы, презентации и многое другое.

СТОП: Готовы перейти к Модулю 3.2?

ПОЛЬЗОВАТЕЛЬ: Да

Отлично! Введите `/start-3-2-1` для продолжения.

---

## Важные заметки для Claude

### Пути к файлам
- `style-library.html` находится в папке этого модуля: `lesson-modules/3-nano-banana/3.1-intro-to-image-gen/3.1.4-style-database/`
- `recursive-painter.jpg` также в папке этого модуля
- `style_extract.py` и `image_gen.py` находятся в `lesson-modules/3-nano-banana/`
- Выходные изображения идут в `lesson-modules/3-nano-banana/outputs/`
- Миниатюры идут в папку `thumbnails/` в папке этого модуля

### При добавлении стилей в библиотеку
1. Прочитайте текущий style-library.html, чтобы найти массив styles И объект CANONICAL_TAGS
2. Определите следующий ID номер
3. Создайте описательное название
4. Выберите категорию из массива CATEGORIES (см. ниже)
5. Выберите 2-4 тега ТОЛЬКО из CANONICAL_TAGS для этой категории
6. Скопируйте выходное изображение в thumbnails/ с именем файла в kebab-case
7. Добавьте новую запись в массив styles в HTML-файле
8. Обновите путь к миниатюре, чтобы указывал на новый файл

### Категории и канонические теги
style-library.html содержит объекты CATEGORIES и CANONICAL_TAGS. Вы ДОЛЖНЫ использовать их точно:

**Категории:** Framework, Flow, Architecture, Mockup, Persona, Marketing, Artistic

**Канонические теги по категориям:**
- **Framework:** 2x2-matrix, pyramid, venn, canvas, concentric, triangle
- **Flow:** process, journey-map, flowchart, steps, sequence
- **Architecture:** hierarchy, hub-spoke, system-diagram, org-chart, tree
- **Mockup:** wireframe, device-frame, ui-concept, landing-page, mobile, desktop
- **Persona:** portrait, lifestyle, headshot, context, illustrated, scene
- **Marketing:** ad, social, announcement, banner, hero
- **Artistic:** flat-illustration, hand-drawn, watercolor, photography, retro, minimalist, bold-graphic, 3d-render

НЕ изобретайте новые теги или категории. Всегда ссылайтесь на CANONICAL_TAGS в HTML-файле.

**Заметка:** Пользователи могут комбинировать стили из разных категорий (например, "используй retro стиль из Artistic со scene-style Persona") для создания композируемых результатов.

### Запуск извлечения стиля
Используйте функцию extract_style() из style_extract.py. Она принимает путь к изображению и возвращает детальное описание визуального стиля на естественном языке.

### Ограничения терминала
- Невозможно отображать изображения напрямую - всегда предоставляйте пути к файлам для открытия пользователями
- Используйте закрытые вопросы валидации ("Вы видите это?"), а не открытые
- **Открытие изображений:** Если пользователь испытывает трудности с поиском изображения, предложите открыть его за него, используя `open [path]` (Mac) или `start [path]` (Windows)

## Критерии успеха

Модуль завершен, когда:
- [ ] Пользователь открыл и исследовал HTML библиотеки стилей
- [ ] Пользователь сгенерировал изображение, используя существующий стиль из библиотеки
- [ ] Пользователь добавил хотя бы один кастомный стиль, используя Метод 1 (сохранить по ходу)
- [ ] Пользователь добавил изометрический стиль, используя Метод 2 (собрать из интернета)
- [ ] Пользователь видел извлечение стиля в действии на recursive-painter.jpg
- [ ] Пользователь видел воссозданное изображение в сравнении с оригиналом
- [ ] Пользователю предложено добавить извлеченный стиль в их библиотеку
- [ ] Пользователь направлен к Модулю 3.2 с `/start-3-2-1`
