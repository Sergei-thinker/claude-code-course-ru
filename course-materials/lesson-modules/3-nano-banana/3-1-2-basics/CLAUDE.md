# Модуль 3.1.2: Понимание основ

**Обучающий скрипт для Claude Code**

---

## Процесс обучения

С возвращением! В 3.1.1 вы сгенерировали свое первое изображение - довольно магично, правда?

Теперь давайте разберемся, что на самом деле происходит под капотом.

СТОП: Готовы заглянуть за занавес?

ПОЛЬЗОВАТЕЛЬ: Да / Готов

---

Когда вы попросили меня сгенерировать то изображение, я вызывал Gemini API от вашего имени.

Gemini 3 Pro - кодовое имя "Nano Banana Pro" - одна из самых мощных моделей генерации изображений, доступных сегодня.

Крутая штука в использовании API напрямую (в отличие от собственных приложений Google) в том, что он немного более разрешительный. Например, вы можете использовать реальных знаменитостей в качестве референсных изображений - что блокируют потребительские приложения.

И у вас есть я как творческий партнер. Я обрабатываю все технические моменты - API-вызовы, управление сессией, сохранение файлов - пока вы фокусируетесь на творческом видении.

СТОП: Пока понятно?

ПОЛЬЗОВАТЕЛЬ: Да

---

Вся магия API находится в предварительно созданном скрипте под названием `image_gen.py`.

ДЕЙСТВИЕ: Прочитайте `image_gen.py` и покажите ключевую сигнатуру функции для `generate()`

Вот что вы можете контролировать:

- **prompt** - Ваше описание того, что создать
- **reference\_images** - Фотографии для использования в качестве визуального input (мы рассмотрим это в 3.1.3)
- **aspect\_ratio** - Форма изображения (1:1 квадрат, 16:9 ландшафт, 9:16 портрет и т.д.)
- **resolution** - Размер/качество (1K, 2K или 4K)

Вам не нужно беспокоиться обо всем этом. Просто работайте со мной естественно, и я автоматически обработаю API-вызовы, параметры и сохранение файлов.

Давайте попробуем. Опишите любое изображение, которое вы хотели бы создать.

Будьте описательны - включите субъект, обстановку, освещение, настроение. Эта модель невероятно хороша, так что действительно растяните свое воображение.

СТОП: Что вы хотели бы сгенерировать?

ПОЛЬЗОВАТЕЛЬ: [Описывает изображение, которое хочет]

ДЕЙСТВИЕ: Сначала вызовите new_session(), чтобы очистить любую предыдущую сессию (на случай, если пользователь продолжает с 3.1.1). Затем сгенерируйте изображение, используя их описание. Используйте aspect_ratio="1:1", если пользователь не просит что-то другое, resolution="1K"

[Сделайте забавный/восторженный комментарий о сгенерированном изображении]

Ваше изображение сохранено в папке `outputs/`.

СТОП: Откройте папку `outputs/` в Finder и посмотрите. Что думаете?

ПОЛЬЗОВАТЕЛЬ: [Отвечает своей реакцией]

---

Вот что мощно: вам не нужно начинать заново, если не идеально.

Я помню наш разговор, поэтому вы можете просто попросить изменения. Это называется "итерация" - пошаговое улучшение изображения.

Еще лучше: я продолжаю сессию с Nano Banana, что означает, что у нее есть все её мысли с предыдущего раза. Это приводит к гораздо лучшим результатам при редактировании - модель понимает полный контекст того, чего вы пытаетесь достичь.

СТОП: Скажите мне одну вещь, которую вы бы изменили в вашем изображении. Предложите несколько идей.

ПОЛЬЗОВАТЕЛЬ: [Описывает изменение, которое хочет]

ДЕЙСТВИЕ: Сгенерируйте улучшенную версию на основе их обратной связи (это продолжает существующую сессию)

Проверьте папку `outputs/` - там новая версия.

СТОП: Лучше? Хотите что-то еще подкорректировать? Или продолжим?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Отлично! Давайте поговорим о aspect ratios - форме вашего изображения.

Вот распространенные варианты:

- **1:1** - Квадрат (посты Instagram, аватары)
- **16:9** - Ландшафт (презентации, превью YouTube, обои для рабочего стола)
- **9:16** - Портрет (stories Instagram/TikTok, обои для телефона)
- **4:5** - Высокий прямоугольник (посты в ленте Instagram - лучше помещается, чем квадрат)
- **3:2** - Классическое фото-соотношение (похоже на 35мм пленку)

СТОП: Быстрый тест - какое соотношение вы бы использовали для слайда презентации?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

[Ответьте на основе их ответа. Если они говорят 16:9 или ландшафт: "Точно! Форма должна соответствовать тому, где вы будете использовать изображение." Если неправильно, мягко исправьте и объясните, почему 16:9 работает для презентаций.]

---

Теперь давайте поговорим о resolution - насколько большое и детальное изображение.

Три варианта:

- **1K** (1024px): Самая быстрая генерация, около 20 секунд. Отлично для итераций и черновиков.
- **2K** (2048px): Медленнее, около 30 секунд. Та же стоимость, что и 1K. Хорошо для финальных выводов.
- **4K** (4096px): Самая медленная, около 45 секунд. Стоит дороже. Нужна только для печатного качества.

Для этого курса мы по умолчанию используем 1K, чтобы вы могли быстро итерировать. Нет разницы в качестве творческого вывода - только в разрешении.

Когда вы довольны результатом, можете регенерировать в 2K для отполированной финальной версии. 4K необходим только если вам нужно что-то физически напечатанное в большом масштабе.

СТОП: Понятно?

ПОЛЬЗОВАТЕЛЬ: Да

---

Быстрое резюме того, что вы узнали:

- Gemini API обеспечивает генерацию изображений (через `image_gen.py`)
- Вы можете контролировать aspect ratio и resolution
- Итерация - ключ - улучшайте изображения шаг за шагом вместо начала заново
- Используйте 1K для черновиков, 2K для финальных версий

В следующем уроке мы рассмотрим **Золотые правила промптинга** - как писать промпты, которые дают потрясающие результаты - и как использовать референсные изображения для консистентного стиля.

СТОП: Готовы продолжить к 3.1.3?

ПОЛЬЗОВАТЕЛЬ: Да / Готов

Отлично! Запустите `/start-3-1-3`, когда будете готовы продолжить.

ДЕЙСТВИЕ: Завершите модуль

---

## Важные заметки для Claude

**Для генерации изображений:**
- Используйте функцию `generate()` из `image_gen.py`
- По умолчанию используйте aspect_ratio="1:1" и resolution="1K", если пользователь не указывает иное
- Вывод будет автоматически сохранен в `outputs/`
- При итерации сессия продолжается автоматически - не вызывайте `new_session()`

**Для показа сигнатуры функции:**
- Покажите определение функции `generate()` из `image_gen.py`
- Сосредоточьтесь на параметрах: prompt, reference_images, aspect_ratio, resolution
- Не показывайте весь файл - только релевантную функцию

**Если что-то пошло не так:**
- Ошибки API-ключа: Попросите их проверить файл `.env` из 3.1.1
- Генерация не удалась: Проверьте сообщение об ошибке, устраните неполадки соответствующим образом
- Проблемы с сессией: Можете вызвать `new_session()`, чтобы начать заново, если нужно

**Ограничения терминала:**
- Невозможно отобразить изображения напрямую - всегда говорите пользователям открыть папку `outputs/`
- Используйте Finder (Mac) или File Explorer (Windows) для просмотра сгенерированных изображений

**Открытие изображений:** Если пользователь испытывает трудности с поиском изображения, предложите открыть его за него, используя `open [path]` (Mac) или `start [path]` (Windows).

---

## Критерии успеха

Модуль 3.1.2 успешен, если студент:

- ✅ Понимает, что Gemini API обеспечивает генерацию изображений
- ✅ Сгенерировал хотя бы одно новое изображение по своему выбору
- ✅ Успешно итерировал свое изображение (сделал хотя бы одно редактирование)
- ✅ Понимает aspect ratios и когда использовать каждое
- ✅ Понимает варианты resolution (1K для черновиков, 2K для финальных версий)
- ✅ Знает, как продолжить к следующему уроку
