# Модуль 3.1.3: Консистентность и стиль

С возвращением! Вы уже видели, как генерировать изображения и итерировать их. Теперь давайте поднимемся на уровень выше.

Этот модуль посвящен консистентности и стилю. К концу вы будете знать, как писать промпты как профессионал, использовать референсные изображения для точного попадания в определенный вид, и генерировать варианты для исследования разных направлений.

СТОП: Готовы начать?

ПОЛЬЗОВАТЕЛЬ: Готов

---

## Часть 1: Золотые правила промптинга

Google выпустил официальное руководство по промптингу для генерации изображений Gemini. Они называют их "Золотые правила" - их четыре:

**Правило 1: Редактируйте, не перегенерируйте** - Если изображение правильно на 80%, просите конкретные изменения вместо начала заново. Мы рассмотрели это в 3.1.2.

**Правило 2: Используйте естественный язык и полные предложения** - Брифуйте, как если бы обращались к человеку-художнику, а не "суп из тегов". Вы найдете библиотеки JSON-промптов в интернете, но это устаревший способ работы с Gemini. Теперь это thinking model - ей не нужна жесткая структуризация.

**Правило 3: Будьте конкретны и описательны** - Определите субъект, обстановку, освещение, настроение, текстуры, материалы. Идите вглубь.

**Правило 4: Предоставляйте контекст** - Скажите "зачем" или "для кого", чтобы thinking model принимала более умные творческие решения.

СТОП: Мы рассмотрим их по одному. Пока понятно?

ПОЛЬЗОВАТЕЛЬ: Да

---

Мы уже рассмотрели Правило 1 в прошлом модуле - оно работает, потому что Gemini - это thinking model, и продолжение разговора дает ей больше контекста для работы.

Теперь давайте увидим остальные три правила в действии. Для каждого я сгенерирую две версии одновременно, чтобы вы могли видеть разницу side-by-side.

Вы выберете концепции - я покажу вам технику.

СТОП: Готовы увидеть это в действии?

ПОЛЬЗОВАТЕЛЬ: Да

---

### Правило 2: Естественный язык против супа из тегов

Начнем с Правила 2.

"Суп из тегов" - это стиль промптинга, который стал популярен с ранними моделями изображений, такими как Midjourney и Stable Diffusion - разделенные запятыми ключевые слова, сбитые вместе:

```
cat, orange tabby, sitting, window, sunlight, cozy, warm lighting, 8k, hyperrealistic, bokeh, soft focus
```

Естественный язык - это просто... нормальное письмо:

```
An orange tabby cat sitting on a windowsill, bathed in warm afternoon sunlight. The scene feels cozy and intimate, with soft focus on the background.
```

Оба могут работать, но Gemini обучалась на естественном языке. Давайте увидим разницу.

СТОП: С какой концепцией вы хотели бы увидеть это продемонстрированным? Дайте мне субъект или сцену - что угодно.

ПОЛЬЗОВАТЕЛЬ: [Предоставляет концепцию]

---

Отлично. Я покажу вам разницу между супом из тегов и естественным языком.

Я генерирую обе версии прямо сейчас, чтобы мы могли сравнить их напрямую.

ДЕЙСТВИЕ: Сгенерируйте два изображения параллельно:
- Версия с супом из тегов: ключевые слова через запятую, никаких предложений
- Версия на естественном языке: полные предложения, описывающие ту же сцену

ДЕЙСТВИЕ: Сохраните оба изображения с описательными именами

Вот что я использовал для каждого промпта:
- **Суп из тегов:** [поделитесь промптом с супом из тегов]
- **Естественный язык:** [поделитесь промптом на естественном языке]

Проверьте оба изображения в вашей папке `outputs/`:
- `[концепция]_tag_soup.png`
- `[концепция]_natural_language.png`

СТОП: Посмотрите на оба - что вы замечаете?

ПОЛЬЗОВАТЕЛЬ: [Описывает наблюдения]

---

Вы можете заметить, что они на самом деле довольно похожи. В этом и суть.

Оба подхода могут давать хорошие результаты. Но естественный язык просто... легче. Вам не нужно запоминать специальный синтаксис или беспокоиться о форматировании. Просто опишите, что вы хотите, как если бы разговаривали с дизайнером. И помните, я всегда могу помочь вам написать эти промпты тоже.

СТОП: Готовы к следующему правилу?

ПОЛЬЗОВАТЕЛЬ: Да

---

### Правило 3: Будьте конкретны и описательны

Это забавное. Правило 3 о том, чтобы определить субъект, обстановку, освещение, настроение, текстуры, материалы - все это.

Вот в чем дело с Gemini: она может обрабатывать МНОГО описаний. Намного больше, чем вы думаете. И она удивительно консистентна даже с очень детальными промптами.

Не сдерживайтесь. И если вы когда-нибудь не уверены, как добавить больше деталей, просто спросите меня - я могу помочь расширить ваши промпты.

СТОП: Что вы хотели бы создать для этой демо? Дайте мне новую концепцию.

ПОЛЬЗОВАТЕЛЬ: [Предоставляет концепцию]

---

Отличный выбор. Я покажу вам расплывчатое против детального.

Для расплывчатой версии я использую простое описание одним предложением. Для детальной версии я иду ва-банк - освещение, текстуры, атмосфера, материалы, композиция, все.

ДЕЙСТВИЕ: Сгенерируйте два изображения параллельно:
- Расплывчатый промпт: простое, минимальное описание
- Детальный промпт: обширное описание с освещением, настроением, текстурами, материалами, атмосферой, композицией

ДЕЙСТВИЕ: Сохраните оба изображения с описательными именами

Вот что я использовал:
- **Расплывчатое:** [поделитесь расплывчатым промптом]
- **Детальное:** [поделитесь детальным промптом - покажите им, насколько безумно детальным вы были]

ДЕЙСТВИЕ: Просмотрите изображения сами и отметьте различия

Проверьте вашу папку `outputs/`:
- `[концепция]_vague.png`
- `[концепция]_detailed.png`

СТОП: Сравните их - видите, какую разницу дают детали?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Детальная версия дает Gemini намного больше для работы. И вот что крутого - она действительно следует всем этим деталям. Освещение, которое вы указали? Оно там. Текстуры? Там.

Не бойтесь быть чрезвычайно конкретными. Если вы когда-нибудь застрянете, просто попросите меня помочь расширить ваш промпт.

СТОП: Готовы к последнему правилу?

ПОЛЬЗОВАТЕЛЬ: Да

---

### Правило 4: Предоставляйте контекст

Это о том, чтобы рассказать Gemini "зачем" или "для кого".

Контекст помогает модели понять цель и принять соответствующие творческие решения. Портрет "для детской книги" выглядит очень по-разному от портрета "для рекламы люксового бренда".

СТОП: Что вы хотели бы создать? Я дам вам несколько вариантов контекста, которые мы можем добавить.

ПОЛЬЗОВАТЕЛЬ: [Предоставляет концепцию]

---

Отлично. Вот несколько вариантов контекста, которые хорошо подойдут к этому:

ДЕЙСТВИЕ: Сгенерируйте варианты контекста динамически на основе того, что имеет смысл для концепции пользователя (например, "для иллюстрации детской книги", "для рекламы люксового бренда", "для landing page tech-стартапа", "для винтажного дизайна постера")

СТОП: Выберите один из них или предложите свой контекст.

ПОЛЬЗОВАТЕЛЬ: [Выбирает контекст]

---

Я сгенерирую одно без контекста и одно с вашим выбранным контекстом.

ДЕЙСТВИЕ: Сгенерируйте два изображения параллельно:
- Без контекста: только описание субъекта
- С контекстом: тот же субъект плюс "зачем" / "для кого"

ДЕЙСТВИЕ: Сохраните оба изображения с описательными именами

ДЕЙСТВИЕ: Просмотрите оба изображения и определите конкретные различия

Вот что я заметил: [поделитесь наблюдениями о том, как контекст повлиял на результат - будьте конкретны о том, что изменилось]

Проверьте вашу папку `outputs/`:
- `[концепция]_no_context.png`
- `[концепция]_with_context.png`

СТОП: Видите, как контекст изменил творческое направление?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Это завершает Золотые правила:
1. **Редактируйте, не перегенерируйте** - итерируйте то, что работает
2. **Используйте естественный язык** - говорите с ней как с дизайнером
3. **Будьте конкретны и описательны** - Gemini может обрабатывать детали
4. **Предоставляйте контекст** - скажите ей "зачем"

Держите их в уме для всей вашей работы по генерации изображений. Они действительно сделают реальную разницу.

СТОП: Готовы перейти к референсным изображениям?

ПОЛЬЗОВАТЕЛЬ: Да

---

## Часть 2: Референсные изображения

Теперь мы переходим к действительно мощным вещам.

Вы можете предоставить Gemini референсные изображения для направления стиля или субъекта. Это огромно для консистентности бренда, воссоздания специфических образов или правильного вида персонажей.

Начнем с одного стилевого референса.

ДЕЙСТВИЕ: Прочитайте файл `style-reference.jpeg`, чтобы понять его визуальный стиль

ДЕЙСТВИЕ: Скажите пользователю, где найти `style-reference.jpeg`, чтобы они могли посмотреть

Это эпичная баскетбольная landing page - смелый, динамичный, высокоэнергичный дизайн. Отличный визуальный стиль.

СТОП: Что вы хотели бы, чтобы я создал в этом стиле? Дайте мне совершенно другой субъект.

ПОЛЬЗОВАТЕЛЬ: [Предоставляет субъект]

---

ДЕЙСТВИЕ: Сгенерируйте изображение, используя `style-reference.jpeg` как стилевой референс с субъектом пользователя

ДЕЙСТВИЕ: Сохраните с описательным именем

Проверьте `outputs/` для вашего стилизованного изображения.

СТОП: Посмотрите - видите, как оно уловило тот смелый, динамичный визуальный стиль, но с вашим субъектом?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Это невероятно полезно для консистентности бренда. Есть стиль, который вам нравится? Просто подайте его как референс.

Теперь давайте попробуем что-то более продвинутое - несколько референсных изображений.

Мы собираемся создать эпичную landing page для кошачьего корма под названием "APEX CAT" с участием кошек Карла - Винтер и Пайпер.

ДЕЙСТВИЕ: Скажите пользователям, где они могут найти изображения кошек (Winter 1-3, Piper 1-2)

СТОП: Вы нашли Винтер и Пайпер?

ПОЛЬЗОВАТЕЛЬ: [Подтверждает]

---

Я скомбинирую:
- `style-reference.jpeg` для того смелого, динамичного визуального стиля
- Фото Винтер (черная пушистая кошка) - все 3 референсных фото
- Фото Пайпер (серо-кремовая пушистая кошка) - оба референсных фото

Профессиональный совет: предоставление нескольких референсных фото одного и того же субъекта дает гораздо лучшие результаты. Модель может понять субъект с разных углов и условий освещения, что помогает ей представлять их более точно.

ДЕЙСТВИЕ: Сгенерируйте landing page "APEX CAT", комбинируя стилевой референс + все 5 фото кошек

ДЕЙСТВИЕ: Сохраните с описательным именем вроде `apex_cat_landing_page.png`

Проверьте вашу папку `outputs/` для результата.

СТОП: Что думаете? Видите, как оно уловило сходство обеих кошек в стиле landing page?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Вот сила референсных изображений:
- **Один референс** для стиля
- **Несколько референсов** для лучшей точности субъекта
- **Миксуйте и сопоставляйте** - стиль из одного изображения, субъекты из других

СТОП: Готовы к Части 3 - сетки и варианты?

ПОЛЬЗОВАТЕЛЬ: Да

---

## Часть 3: Сетки и варианты

Иногда вам нужны несколько видов или вариаций одного и того же субъекта. Сетки идеальны для этого - листы персонажей, sprite sheets, углы продукта, вы называете это.

Давайте создадим 3x3 sprite sheet персонажа видеоигры, используя Винтер.

СТОП: Идите вперед и попросите меня сгенерировать sprite sheet персонажа, используя фото Винтер.

ПОЛЬЗОВАТЕЛЬ: Сгенерируй sprite sheet персонажа, используя фото Винтер

---

ДЕЙСТВИЕ: Сгенерируйте 3x3 grid sprite sheet, используя референсные фото Винтер
- 9 разных поз/действий Винтер как персонажа видеоигры
- Консистентный стиль во всех 9 ячейках

ДЕЙСТВИЕ: Сохраните как `winter_sprite_sheet.png`

Проверьте вашу папку `outputs/` для sprite sheet.

Это отлично для консистентности - один персонаж, разные углы и позы, все соответствуют одному и тому же языку дизайна.

СТОП: Видите, как все 9 поз поддерживают один и тот же дизайн персонажа?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Давайте попробуем еще одну сетку - и эта немного мета.

Мы только что изучили Золотые правила промптинга. Что если мы использовали генерацию изображений для создания обучающих слайдов об этих самых правилах?

СТОП: Попросите меня сгенерировать 8-слайдовую презентацию о Золотых правилах.

ПОЛЬЗОВАТЕЛЬ: Сгенерируй 8-слайдовую презентацию о Золотых правилах

---

ДЕЙСТВИЕ: Сгенерируйте 2x4 grid (8 слайдов), обучающих Золотым правилам промптинга
- Слайд 1: Титульный слайд - "Золотые правила промптинга изображений"
- Слайд 2: Обзор - 4 правила с первого взгляда
- Слайды 3-6: Один слайд на правило с визуальным примером
- Слайд 7: Быстрая справочная шпаргалка
- Слайд 8: "Теперь идите создавать!" заключительный слайд
- Консистентный визуальный стиль на всех слайдах

ДЕЙСТВИЕ: Сохраните как `golden_rules_slides.png`

Проверьте вашу папку `outputs/` для слайдов.

Видите, что мы сделали? Мы использовали инструмент для создания обучающего контента об инструменте. Сетки невероятно полезны для презентаций, туториалов или любого контента, который нуждается в визуальной консистентности.

СТОП: Довольно мета, правда? Готовы перейти к вариантам?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

Теперь давайте поговорим о вариантах.

Вот что важно: все с LLM имеет врожденную случайность, и это особенно верно для генерации изображений. Даже с точно таким же промптом вы получите разные результаты каждый раз.

Вы можете рассматривать это как особенность, а не баг.

Вместо генерации одного изображения и надежды, что оно правильное, генерируйте 2-3 варианта с одним и тем же промптом. Затем выберите ваш любимый и итерируйте на нем.

СТОП: Выберите любую концепцию из наших предыдущих демо, которую вы хотели бы исследовать дальше. Вы можете проверить папку `outputs/`, если нужно напоминание.

ПОЛЬЗОВАТЕЛЬ: [Выбирает концепцию]

---

ДЕЙСТВИЕ: Сгенерируйте 3 варианта выбранной концепции пользователя, используя ОДИНАКОВЫЙ промпт каждый раз
- Вызовите new_session() перед каждой генерацией, чтобы обеспечить свежие результаты
- Используйте идентичные промпты, чтобы продемонстрировать естественную вариацию

ДЕЙСТВИЕ: Сохраните как `[концепция]_variant_1.png`, `[концепция]_variant_2.png`, `[концепция]_variant_3.png`

Проверьте вашу папку `outputs/` - вы должны увидеть три разные версии из одного промпта.

СТОП: Какой вариант вам нравится больше всего?

ПОЛЬЗОВАТЕЛЬ: [Выбирает любимый]

---

Отличный выбор. Теперь мы можем итерировать на этом конкретном направлении.

Это workflow: генерируйте варианты, выбирайте лучший, затем улучшайте.

СТОП: Что вы хотели бы изменить или улучшить в вашем выбранном варианте?

ПОЛЬЗОВАТЕЛЬ: [Предоставляет обратную связь]

---

ДЕЙСТВИЕ: Продолжите сессию для улучшения выбранного варианта на основе обратной связи пользователя

ДЕЙСТВИЕ: Сохраните улучшенную версию

Это полный творческий workflow:
1. **Генерируйте варианты** для исследования направлений
2. **Выберите ваш любимый**
3. **Итерируйте с конкретной обратной связью**

СТОП: Видите, как этот workflow дает вам больше контроля над творческим направлением?

ПОЛЬЗОВАТЕЛЬ: [Отвечает]

---

## Подведение итогов

Отличная работа! Давайте резюмируем, что вы узнали:

**Золотые правила:**
- Редактируйте, не перегенерируйте
- Используйте естественный язык
- Будьте конкретны и описательны
- Предоставляйте контекст

**Референсные изображения:**
- Один референс для стиля
- Несколько референсов для лучшей точности субъекта
- Миксуйте и сопоставляйте стилевые и субъектные референсы

**Сетки и варианты:**
- Сетки для консистентности в позах/углах
- Варианты для исследования направлений, затем итерируйте на лучшем

СТОП: Какие-нибудь вопросы перед тем, как двигаться дальше?

ПОЛЬЗОВАТЕЛЬ: [Вопросы или готов продолжить]

---

В следующем модуле мы построим базу стилей, чтобы вы могли сохранять и повторно использовать ваши любимые стили. Вы узнаете, как деконструировать существующие изображения и построить свой собственный творческий инструментарий.

СТОП: Скажите мне, когда вы готовы к Модулю 3.1.4

ПОЛЬЗОВАТЕЛЬ: Готов

Запустите `/start-3-1-4` для продолжения.

---

## Важные заметки для Claude

Когда запускаете этот модуль:

1. **Описательные имена файлов** - Всегда используйте осмысленные имена при сохранении выводов (например, `coffee_shop_warm_light.png`, а не просто последовательные номера)

2. **Делитесь вашими промптами** - Когда генерируете сравнительные изображения, всегда показывайте пользователю, какие промпты вы использовали, чтобы они могли учиться на технике

3. **Просматривайте изображения сами** - Для демо, где вам нужно комментировать различия, действительно посмотрите на сгенерированные изображения и предоставьте конкретные наблюдения

4. **Динамические варианты контекста** - Когда предлагаете варианты контекста для Правила 4, генерируйте варианты, которые имеют смысл для конкретной концепции пользователя

5. **Расположение фото кошек** - Фото кошек (Winter 1-3, Piper 1-2) и style-reference.jpeg находятся в папке модуля. Скажите пользователям точный путь.

6. **Workflow вариантов** - Когда генерируете варианты, используйте одинаковый промпт каждый раз, чтобы продемонстрировать естественную случайность

7. **Открытие изображений** - Если пользователь испытывает трудности с поиском изображения, предложите открыть его за него, используя `open [path]` (Mac) или `start [path]` (Windows)

## Критерии успеха

Модуль завершен, когда:
- [ ] Пользователь видел все 4 Золотых правила объясненными
- [ ] Пользователь завершил 3 сравнительных демо (суп из тегов против естественного языка, расплывчатое против детального, без контекста против с контекстом)
- [ ] Пользователь использовал один стилевой референс
- [ ] Пользователь видел мульти-изображение демо APEX CAT
- [ ] Пользователь сгенерировал сетку/sprite sheet
- [ ] Пользователь сгенерировал варианты и итерировал на своем любимом
- [ ] Пользователь направлен к `/start-3-1-4`
